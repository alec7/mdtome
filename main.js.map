{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/hyperapp/src/index.js","webpack:///./src/resources/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","h","attributes","rest","children","length","arguments","push","node","pop","nodeName","app","state","actions","view","container","skipRender","map","rootElement","oldNode","recycleElement","element","toLowerCase","childNodes","nodeType","nodeValue","lifecycle","isRecycling","globalState","clone","wiredActions","wireStateToActions","path","action","data","result","getPartialState","then","scheduleRender","setPartialState","concat","resolveNode","render","patch","parent","isSvg","newElement","createElement","document","createTextNode","createElementNS","oncreate","appendChild","updateAttribute","insertBefore","removeElement","oldAttributes","cb","onupdate","updateElement","oldKeyed","newKeyed","oldElements","oldChildren","oldKey","getKey","k","newKey","keyedNode","setTimeout","target","source","out","slice","eventListener","event","currentTarget","events","type","oldValue","style","cssText","setProperty","addEventListener","removeEventListener","setAttribute","removeAttribute","done","removeChild","removeChildren","ondestroy","onremove","window","getElementById","body","querySelector","store","filename","cache","busy","Promise","resolve","fetch","response","json","catch","error","console","warn","fetchDb","getAttribute","replace","main","content","results","links","querySelectorAll","classList","toggle","Array","from","forEach","el","remove","searchApp","open","setResults","setError","setOpen","display","scrollTop","iter","href","title","description","input","setInput","search","db","list","query","filter","str","match","placeholder","oninput","ev","onclick"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","export function h(name, attributes) {\n  var rest = []\n  var children = []\n  var length = arguments.length\n\n  while (length-- > 2) rest.push(arguments[length])\n\n  while (rest.length) {\n    var node = rest.pop()\n    if (node && node.pop) {\n      for (length = node.length; length--; ) {\n        rest.push(node[length])\n      }\n    } else if (node != null && node !== true && node !== false) {\n      children.push(node)\n    }\n  }\n\n  return typeof name === \"function\"\n    ? name(attributes || {}, children)\n    : {\n        nodeName: name,\n        attributes: attributes || {},\n        children: children,\n        key: attributes && attributes.key\n      }\n}\n\nexport function app(state, actions, view, container) {\n  var map = [].map\n  var rootElement = (container && container.children[0]) || null\n  var oldNode = rootElement && recycleElement(rootElement)\n  var lifecycle = []\n  var skipRender\n  var isRecycling = true\n  var globalState = clone(state)\n  var wiredActions = wireStateToActions([], globalState, clone(actions))\n\n  scheduleRender()\n\n  return wiredActions\n\n  function recycleElement(element) {\n    return {\n      nodeName: element.nodeName.toLowerCase(),\n      attributes: {},\n      children: map.call(element.childNodes, function(element) {\n        return element.nodeType === 3 // Node.TEXT_NODE\n          ? element.nodeValue\n          : recycleElement(element)\n      })\n    }\n  }\n\n  function resolveNode(node) {\n    return typeof node === \"function\"\n      ? resolveNode(node(globalState, wiredActions))\n      : node != null\n        ? node\n        : \"\"\n  }\n\n  function render() {\n    skipRender = !skipRender\n\n    var node = resolveNode(view)\n\n    if (container && !skipRender) {\n      rootElement = patch(container, rootElement, oldNode, (oldNode = node))\n    }\n\n    isRecycling = false\n\n    while (lifecycle.length) lifecycle.pop()()\n  }\n\n  function scheduleRender() {\n    if (!skipRender) {\n      skipRender = true\n      setTimeout(render)\n    }\n  }\n\n  function clone(target, source) {\n    var out = {}\n\n    for (var i in target) out[i] = target[i]\n    for (var i in source) out[i] = source[i]\n\n    return out\n  }\n\n  function setPartialState(path, value, source) {\n    var target = {}\n    if (path.length) {\n      target[path[0]] =\n        path.length > 1\n          ? setPartialState(path.slice(1), value, source[path[0]])\n          : value\n      return clone(source, target)\n    }\n    return value\n  }\n\n  function getPartialState(path, source) {\n    var i = 0\n    while (i < path.length) {\n      source = source[path[i++]]\n    }\n    return source\n  }\n\n  function wireStateToActions(path, state, actions) {\n    for (var key in actions) {\n      typeof actions[key] === \"function\"\n        ? (function(key, action) {\n            actions[key] = function(data) {\n              var result = action(data)\n\n              if (typeof result === \"function\") {\n                result = result(getPartialState(path, globalState), actions)\n              }\n\n              if (\n                result &&\n                result !== (state = getPartialState(path, globalState)) &&\n                !result.then // !isPromise\n              ) {\n                scheduleRender(\n                  (globalState = setPartialState(\n                    path,\n                    clone(state, result),\n                    globalState\n                  ))\n                )\n              }\n\n              return result\n            }\n          })(key, actions[key])\n        : wireStateToActions(\n            path.concat(key),\n            (state[key] = clone(state[key])),\n            (actions[key] = clone(actions[key]))\n          )\n    }\n\n    return actions\n  }\n\n  function getKey(node) {\n    return node ? node.key : null\n  }\n\n  function eventListener(event) {\n    return event.currentTarget.events[event.type](event)\n  }\n\n  function updateAttribute(element, name, value, oldValue, isSvg) {\n    if (name === \"key\") {\n    } else if (name === \"style\") {\n      if (typeof value === \"string\") {\n        element.style.cssText = value\n      } else {\n        if (typeof oldValue === \"string\") oldValue = element.style.cssText = \"\"\n        for (var i in clone(oldValue, value)) {\n          var style = value == null || value[i] == null ? \"\" : value[i]\n          if (i[0] === \"-\") {\n            element.style.setProperty(i, style)\n          } else {\n            element.style[i] = style\n          }\n        }\n      }\n    } else {\n      if (name[0] === \"o\" && name[1] === \"n\") {\n        name = name.slice(2)\n\n        if (element.events) {\n          if (!oldValue) oldValue = element.events[name]\n        } else {\n          element.events = {}\n        }\n\n        element.events[name] = value\n\n        if (value) {\n          if (!oldValue) {\n            element.addEventListener(name, eventListener)\n          }\n        } else {\n          element.removeEventListener(name, eventListener)\n        }\n      } else if (\n        name in element &&\n        name !== \"list\" &&\n        name !== \"type\" &&\n        name !== \"draggable\" &&\n        name !== \"spellcheck\" &&\n        name !== \"translate\" &&\n        !isSvg\n      ) {\n        element[name] = value == null ? \"\" : value\n      } else if (value != null && value !== false) {\n        element.setAttribute(name, value)\n      }\n\n      if (value == null || value === false) {\n        element.removeAttribute(name)\n      }\n    }\n  }\n\n  function createElement(node, isSvg) {\n    var element =\n      typeof node === \"string\" || typeof node === \"number\"\n        ? document.createTextNode(node)\n        : (isSvg = isSvg || node.nodeName === \"svg\")\n          ? document.createElementNS(\n              \"http://www.w3.org/2000/svg\",\n              node.nodeName\n            )\n          : document.createElement(node.nodeName)\n\n    var attributes = node.attributes\n    if (attributes) {\n      if (attributes.oncreate) {\n        lifecycle.push(function() {\n          attributes.oncreate(element)\n        })\n      }\n\n      for (var i = 0; i < node.children.length; i++) {\n        element.appendChild(\n          createElement(\n            (node.children[i] = resolveNode(node.children[i])),\n            isSvg\n          )\n        )\n      }\n\n      for (var name in attributes) {\n        updateAttribute(element, name, attributes[name], null, isSvg)\n      }\n    }\n\n    return element\n  }\n\n  function updateElement(element, oldAttributes, attributes, isSvg) {\n    for (var name in clone(oldAttributes, attributes)) {\n      if (\n        attributes[name] !==\n        (name === \"value\" || name === \"checked\"\n          ? element[name]\n          : oldAttributes[name])\n      ) {\n        updateAttribute(\n          element,\n          name,\n          attributes[name],\n          oldAttributes[name],\n          isSvg\n        )\n      }\n    }\n\n    var cb = isRecycling ? attributes.oncreate : attributes.onupdate\n    if (cb) {\n      lifecycle.push(function() {\n        cb(element, oldAttributes)\n      })\n    }\n  }\n\n  function removeChildren(element, node) {\n    var attributes = node.attributes\n    if (attributes) {\n      for (var i = 0; i < node.children.length; i++) {\n        removeChildren(element.childNodes[i], node.children[i])\n      }\n\n      if (attributes.ondestroy) {\n        attributes.ondestroy(element)\n      }\n    }\n    return element\n  }\n\n  function removeElement(parent, element, node) {\n    function done() {\n      parent.removeChild(removeChildren(element, node))\n    }\n\n    var cb = node.attributes && node.attributes.onremove\n    if (cb) {\n      cb(element, done)\n    } else {\n      done()\n    }\n  }\n\n  function patch(parent, element, oldNode, node, isSvg) {\n    if (node === oldNode) {\n    } else if (oldNode == null || oldNode.nodeName !== node.nodeName) {\n      var newElement = createElement(node, isSvg)\n      parent.insertBefore(newElement, element)\n\n      if (oldNode != null) {\n        removeElement(parent, element, oldNode)\n      }\n\n      element = newElement\n    } else if (oldNode.nodeName == null) {\n      element.nodeValue = node\n    } else {\n      updateElement(\n        element,\n        oldNode.attributes,\n        node.attributes,\n        (isSvg = isSvg || node.nodeName === \"svg\")\n      )\n\n      var oldKeyed = {}\n      var newKeyed = {}\n      var oldElements = []\n      var oldChildren = oldNode.children\n      var children = node.children\n\n      for (var i = 0; i < oldChildren.length; i++) {\n        oldElements[i] = element.childNodes[i]\n\n        var oldKey = getKey(oldChildren[i])\n        if (oldKey != null) {\n          oldKeyed[oldKey] = [oldElements[i], oldChildren[i]]\n        }\n      }\n\n      var i = 0\n      var k = 0\n\n      while (k < children.length) {\n        var oldKey = getKey(oldChildren[i])\n        var newKey = getKey((children[k] = resolveNode(children[k])))\n\n        if (newKeyed[oldKey]) {\n          i++\n          continue\n        }\n\n        if (newKey != null && newKey === getKey(oldChildren[i + 1])) {\n          if (oldKey == null) {\n            removeElement(element, oldElements[i], oldChildren[i])\n          }\n          i++\n          continue\n        }\n\n        if (newKey == null || isRecycling) {\n          if (oldKey == null) {\n            patch(element, oldElements[i], oldChildren[i], children[k], isSvg)\n            k++\n          }\n          i++\n        } else {\n          var keyedNode = oldKeyed[newKey] || []\n\n          if (oldKey === newKey) {\n            patch(element, keyedNode[0], keyedNode[1], children[k], isSvg)\n            i++\n          } else if (keyedNode[0]) {\n            patch(\n              element,\n              element.insertBefore(keyedNode[0], oldElements[i]),\n              keyedNode[1],\n              children[k],\n              isSvg\n            )\n          } else {\n            patch(element, oldElements[i], null, children[k], isSvg)\n          }\n\n          newKeyed[newKey] = children[k]\n          k++\n        }\n      }\n\n      while (i < oldChildren.length) {\n        if (getKey(oldChildren[i]) == null) {\n          removeElement(element, oldElements[i], oldChildren[i])\n        }\n        i++\n      }\n\n      for (var i in oldKeyed) {\n        if (!newKeyed[i]) {\n          removeElement(element, oldKeyed[i][0], oldKeyed[i][1])\n        }\n      }\n    }\n    return element\n  }\n}\n","/**\n * mdtome\n *\n * Copyright (c) 2018, Anders Evenrud <andersevenrud@gmail.com>\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice, this\n *    list of conditions and the following disclaimer\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n *    this list of conditions and the following disclaimer in the documentation\n *    and/or other materials provided with the distribution\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * @author  Anders Evenrud <andersevenrud@gmail.com>\n * @licence MIT\n */\n\nimport {h, app} from 'hyperapp';\n\nconst fetchDb = filename => {\n  let cache;\n  let busy = false;\n\n  return () => {\n    if (busy) {\n      return busy;\n    } else if (cache) {\n      return Promise.resolve(cache);\n    }\n\n    busy = fetch(filename)\n      .then(response => response.json())\n      .then(json => {\n        cache = json;\n        busy = false;\n        return cache;\n      })\n      .catch(error => {\n        console.warn(error);\n        busy = false;\n      });\n\n    return busy;\n  };\n};\n\nconst filter = (list, query) => list.filter(iter => {\n  const x = [iter.title, iter.description]\n    .filter(str => typeof str === 'string')\n    .map(str => str.toLowerCase())\n    .filter(str => str.match(query.toLowerCase()));\n\n  return x.length > 0;\n});\n\nconst init = () => {\n  const m = document.getElementById('hamburger');\n  const s = document.getElementById('search');\n  const body = document.querySelector('body');\n\n  const baseUrl = body.getAttribute('data-url');\n  const filename = baseUrl.replace(/\\/$/, '') + '/search.json';\n\n  const store = fetchDb(filename);\n  const main = document.querySelector('main');\n  const content = document.getElementById('article');\n  const results = document.getElementById('search-results');\n  const links = document.querySelectorAll('#menu a');\n\n  m.addEventListener('click', () => {\n    body.classList.toggle('menu-expanded');\n  });\n\n  Array.from(links).forEach(el => el.addEventListener('click', () => {\n    body.classList.remove('menu-expanded');\n  }));\n\n  const view = (state, actions) => {\n    return h('div', {}, [\n      h('input', {\n        type: 'text',\n        placeholder: 'Type here to search...',\n        value: state.input,\n        oninput: ev => actions.setInput(ev.target.value)\n      }),\n      h('span', {\n        style: {\n          display: state.input.length > 0 ? 'block' : 'none'\n        },\n        onclick: () => actions.setInput('')\n      }, '✗')\n    ]);\n  };\n\n  const searchApp = app({\n    open: false,\n    error: null,\n    results: []\n  }, {\n    setResults: results => state => ({error: null, results}),\n    setError: error => state => ({error, results: []}),\n    setOpen: open => state => {\n      if (open) {\n        content.style.display = 'none';\n        results.style.display = 'block';\n        main.scrollTop = 0;\n      } else {\n        content.style.display = 'block';\n        results.style.display = 'none';\n      }\n\n      return {open};\n    },\n  }, (state, actions) => {\n    return h('div', {}, [\n      h('h2', {}, 'Search results'),\n      h('p', {}, `Showing ${state.results.length} results`),\n      h('ol', {}, state.results.map(iter => h('li', {}, [\n        h('h3', {}, h('a', {href: iter.href}, iter.title)),\n        h('p', {}, iter.description)\n      ])))\n    ]);\n  }, results);\n\n  app({\n    input: '',\n  }, {\n    setInput: input => (state, actions) => {\n      const open = input.length > 0;\n      body.classList.toggle('search-open', open);\n\n      searchApp.setOpen(open);\n\n      actions.search();\n\n      return {input};\n    },\n\n    search: () => (state, actions) => {\n      store()\n        .then(db => searchApp.setResults(filter(db, state.input)))\n        .catch(error => searchApp.setError(error));\n    }\n  }, view, s);\n};\n\nwindow.addEventListener('DOMContentLoaded', init);\n"],"sourceRoot":""}